<!DOCTYPE html>
<html>
<head>
	<title>Matching Game</title>
	<style>
		#rightSide {position: absolute; left: 675px; border-left: 1px solid black; width:600px; height:450px;}
		#leftSide {position: absolute; left: 25px; width:600px; height:450px;}
		img {position: absolute;}
	</style>
</head>
<body id="body" onload="hihi(5)">

	<script>
		var theLeftSide = document.getElementById("leftSide");

		function generateFaces(n) {	
			var theLeftSide = document.getElementById("leftSide");
			for (var i = 0; i < n; i++) {
				var imgg = document.createElement("img");
				imgg.src = "./images/smile.png";
				
				var topp = Math.floor( Math.random()*350 );
				var left = Math.floor( Math.random()*500 );
				imgg.style.top = topp + "px";
				imgg.style.left = left + "px";
				
				theLeftSide.appendChild(imgg);
			}
		}

		function generateRight(){
			var theLeftSide = document.getElementById("leftSide");
			var theRightSide = document.getElementById("rightSide");
			var fake = theLeftSide.cloneNode(true);

			fake.removeChild(fake.lastChild);
			theRightSide.appendChild(fake);
		}

		function clear(){
			var theLeftSide = document.getElementById("leftSide");
			var theRightSide = document.getElementById("rightSide");
			while (theLeftSide.firstChild) {
    			theLeftSide.removeChild(theLeftSide.firstChild);
			}
			while (theRightSide.firstChild) {
    			theRightSide.removeChild(theRightSide.firstChild);
			}
		}

		function handle(n){
			var theLeftSide = document.getElementById("leftSide");
			theLeftSide.lastChild.onclick=
				function nextlevel(event){
					event.stopPropagation();
					alert("You win");
					clear();
					hihi(n+5);
				};
			var theBody = document.getElementById("body");
			theBody.onclick = 
				function gameOver() {
					alert("Game Over!");
   					theBody.onclick = null;
    				theLeftSide.lastChild.onclick = null;
				};
		}

		function hihi(n){
			generateFaces(n);
			generateRight();
			handle(n);
		}
	</script>

	<h1>Matching Game</h1>
	<p>Click on the extra smiling face on the left</p>
	<br>
	<div id="leftSide"></div>
	<div id="rightSide"></div>
</body>
</html>